function openTutorial(){TutorialSlider($(".mr-comment")).appendTo($("html"))}function TutorialSlider(n){var e=htmlCanvas.widget(),i=10,t=0;function o(){r(),current=$(n[t]),$("body").css({overflow:"hidden"}),window.scrollTo(0,0),$(window).height()<current.prev().offset().top+current.prev().height()&&window.scrollTo(0,current.prev().offset().top),HiddingBoxes(current,i).appendTo($("html")),CommentContainer(current,i).appendTo($("html"))}function r(){$(".mr-hidding").remove(),$(".mr-comment-container").remove()}return e.renderOn=function(e){o(),e.span("<").addClass("mr-arrow left").click(function(){!function(){0==t?t=n.length-1:t--;o()}()}),e.span(">").addClass("mr-arrow right").click(function(){!function(){t==n.length-1?t=0:t++;o()}()}),e.span("x").addClass("mr-remove").click(function(){$(".mr-arrow").remove(),$(".mr-remove").remove(),r(),$(document).unbind("scroll"),$("body").css({overflow:"visible"})})},e}function HiddingBoxes(n,e){var i=htmlCanvas.widget();return i.renderOn=function(i){var t;box=(t=n.prev(),position=t.offset(),width=t.outerWidth(),height=t.outerHeight(),box={xMin:position.left,xMax:position.left+width,yMin:position.top-$(window).scrollTop(),yMax:position.top-$(window).scrollTop()+height},box),div=i.div().addClass("mr-hidding").asJQuery(),div.css("top","0px"),div.css("left","0px"),div.css("height",box.yMin-e+"px"),div.css("width","100%"),div=i.div().addClass("mr-hidding").asJQuery(),div.css("top",box.yMin-e+"px"),div.css("left","0px"),div.css("height",box.yMax-box.yMin+2*e+"px"),div.css("width",window.innerWidth-(window.innerWidth-box.xMin)-e+"px"),div=i.div().addClass("mr-hidding").asJQuery(),div.css("top",box.yMin-e+"px"),div.css("right","0px"),div.css("height",box.yMax-box.yMin+2*e+"px"),div.css("width",window.innerWidth-(box.xMax+3*e)+"px"),div=i.div().addClass("mr-hidding").asJQuery(),div.css("top",box.yMax+e+"px"),div.css("left","0px"),div.css("height",window.innerHeight-box.yMax+"px"),div.css("width","100%")},i}function CommentContainer(n,e){var i=htmlCanvas.widget(),t=[],o=[],r=[];return i.renderOn=function(i){div=function(){div=$($(".mr-hidding")[0]);for(var n=0,e=0;e<$(".mr-hidding").length;e++)currentArea=new Number($($(".mr-hidding")[e]).css("width").split("px")[0])*new Number($($(".mr-hidding")[e]).css("height").split("px")[0]),currentArea>=n&&(n=currentArea,div=$($(".mr-hidding")[e]));return div}(),container=i.div().addClass("mr-comment-container").asJQuery(),container.css("top",new Number(div.css("top").split("px")[0])+6*e+"px"),container.css("left",new Number(div.css("left").split("px")[0])+10*e+"px"),container.css("height",new Number(div.css("height").split("px")[0])-12*e+"px"),container.css("width",new Number(div.css("width").split("px")[0])-20*e+"px"),container.appendTo($("html"));for(var s=0;s<n.children().length;s++)element=n.children()[s],$(element).is("img")?t.push($(element).clone()):$(element).is("video")?o.push($(element).clone()):r.push($(element).clone());var d=t.concat(o);if(d.length>0&&(screenshots=i.div().addClass("screenshots").asJQuery(),screenshots.appendTo(container),1==d.length&&screenshots.append(d[0])),r.length>0){content=i.div().addClass("comments").asJQuery(),content.appendTo(container);for(s=0;s<r.length;s++)content.append(r[s])}},i}function roundDown(n,e){return e=e||0,Math.floor(n*Math.pow(10,e))/Math.pow(10,e)}function generateCss(){str=" .boxes{float:left; width:100%;} .boxes.airy{margin:2%} .boxes > .box{float: left; width: 100%} ";for(var n=1;n<13;n++)margin=2,margin=roundDown(margin-Math.min(.2*n,1.75),2),width=roundDown(100/n,2),str+=" .boxes.b-"+n+" > .box {width: "+width+"%}",str+=" .boxes.b-"+n+".airy > .box {width: "+roundDown(width-2*margin,2)+"%; margin:"+margin+"%}";style=document.createElement("style"),style.type="text/css",style.innerHTML=str,document.getElementsByTagName("head")[0].appendChild(style)}window.onresize=function(n){},generateCss();