function openTutorial(){TutorialSlider($(".mr-comment")).appendTo($("html"))}function TutorialSlider(n){var i=htmlCanvas.widget(),e=10,t=0;function o(){r(),current=$(n[t]),$("body").css({overflow:"hidden"}),window.scrollTo(0,0),$(window).height()<current.prev().offset().top+current.prev().height()&&window.scrollTo(0,current.prev().offset().top),HiddingBoxes(current,e).appendTo($("html")),CommentContainer(current,e).appendTo($("html"))}function r(){$(".mr-hidding").remove(),$(".mr-comment-container").remove()}return i.renderOn=function(i){o(),i.span("<").addClass("mr-arrow left").click(function(){!function(){0==t?t=n.length-1:t--;o()}()}),i.span(">").addClass("mr-arrow right").click(function(){!function(){t==n.length-1?t=0:t++;o()}()}),i.span("x").addClass("mr-remove").click(function(){$(".mr-arrow").remove(),$(".mr-remove").remove(),r(),$(document).unbind("scroll"),$("body").css({overflow:"visible"})})},i}function HiddingBoxes(n,i){var e=htmlCanvas.widget();return e.renderOn=function(e){var t;box=(t=n.prev(),position=t.offset(),width=t.outerWidth(),height=t.outerHeight(),box={xMin:position.left,xMax:position.left+width,yMin:position.top-$(window).scrollTop(),yMax:position.top-$(window).scrollTop()+height},box),div=e.div().addClass("mr-hidding").asJQuery(),div.css("top","0px"),div.css("left","0px"),div.css("height",box.yMin-i+"px"),div.css("width","100%"),div=e.div().addClass("mr-hidding").asJQuery(),div.css("top",box.yMin-i+"px"),div.css("left","0px"),div.css("height",box.yMax-box.yMin+2*i+"px"),div.css("width",window.innerWidth-(window.innerWidth-box.xMin)-i+"px"),div=e.div().addClass("mr-hidding").asJQuery(),div.css("top",box.yMin-i+"px"),div.css("right","0px"),div.css("height",box.yMax-box.yMin+2*i+"px"),div.css("width",window.innerWidth-(box.xMax+3*i)+"px"),div=e.div().addClass("mr-hidding").asJQuery(),div.css("top",box.yMax+i+"px"),div.css("left","0px"),div.css("height",window.innerHeight-box.yMax+"px"),div.css("width","100%")},e}function CommentContainer(n,i){var e=htmlCanvas.widget(),t=[],o=[],r=[];return e.renderOn=function(e){div=function(){div=$($(".mr-hidding")[0]);for(var n=0,i=0;i<$(".mr-hidding").length;i++)currentArea=new Number($($(".mr-hidding")[i]).css("width").split("px")[0])*new Number($($(".mr-hidding")[i]).css("height").split("px")[0]),currentArea>=n&&(n=currentArea,div=$($(".mr-hidding")[i]));return div}(),container=e.div().addClass("mr-comment-container").asJQuery(),container.css("top",new Number(div.css("top").split("px")[0])+6*i+"px"),container.css("left",new Number(div.css("left").split("px")[0])+10*i+"px"),container.css("height",new Number(div.css("height").split("px")[0])-12*i+"px"),container.css("width",new Number(div.css("width").split("px")[0])-20*i+"px"),container.appendTo($("html"));for(var s=0;s<n.children().length;s++)element=n.children()[s],$(element).is("img")?t.push($(element).clone()):$(element).is("video")?o.push($(element).clone()):r.push($(element).clone());var d=t.concat(o);if(d.length>0&&(screenshots=e.div().addClass("screenshots").asJQuery(),screenshots.appendTo(container),1==d.length&&screenshots.append(d[0])),r.length>0){content=e.div().addClass("comments").asJQuery(),content.appendTo(container);for(s=0;s<r.length;s++)content.append(r[s])}},e}window.onresize=function(n){};